version: '3.8'

services:
  booking_service:
    build: ./booking_service
    ports:
      - "8080:80"
    depends_on:
      - flight_management_service
    environment:
      - DATABASE_URL=sqlite:///./test.db
      - AWS_DEFAULT_REGION=us-east-2

  flight_management_service:
    build: ./flight_management_service
    ports:
      - "8082:80"
    environment:
      - DATABASE_URL=sqlite:///./test.db

  notification_service:
    build: ./notification_service
    ports:
      - "8081:80"
    depends_on:
      - booking_service
    environment:
      - AWS_DEFAULT_REGION=us-east-2
      - QUEUE_URL=https://sqs.us-east-2.amazonaws.com/767397896582/MyQueue.fifo

  payment_service:
    build: ./payment_service
    ports:
      - "8083:80"
    environment:
      - AWS_DEFAULT_REGION=us-east-2
      - DYNAMODB_TABLE=Payments
